{"version":3,"file":"vue.js","sources":["../../src/utils/index.js","../../src/observer/array.js","../../src/observer/index.js","../../src/state.js","../../src/compiler/parser-html.js","../../src/compiler/generate.js","../../src/compiler/index.js","../../src/observer/watcher.js","../../src/utils/patch.js","../../src/lifecycle.js","../../src/utils/mergeOptions.js","../../src/init.js","../../src/vdom/create-element.js","../../src/render.js","../../src/initGlobalApi/index.js","../../src/index.js"],"sourcesContent":["/**\n *\n * @param {*} data 当前数据是不是对象\n */\nexport function isObject(data) {\n  return typeof data === \"object\" && data !== null;\n}\n\n/**\n *\n * @param {*} data\n * @param {*} key\n * @param {*} value 定义不可枚举属性\n */\nexport function def(data, key, value) {\n  Object.defineProperty(data, key, {\n    enumerable: false,\n    configurable: false,\n    value,\n  });\n}\n/**\n * \n * @param {*} vm \n * @param {*} source \n * @param {*} key \n */\nexport function proxy(vm, source, key) {\n  Object.defineProperty(vm, key, {\n    get() {\n      return vm[source][key];\n    },\n    set(newValue) {\n      vm[source][key] = newValue;\n    },\n  });\n}","let oldArrayProtoMethods = Array.prototype;\nexport let arrayMethods = Object.create(oldArrayProtoMethods);\nlet methods = [\"push\", \"pop\", \"shift\", \"unshift\", \"reverse\", \"sort\", \"splice\"];\nmethods.forEach((method) => {\n  arrayMethods[method] = function (...args) {\n    const result = oldArrayProtoMethods[method].apply(this, args);\n    // AOP 切片编程\n    const ob = this.__ob__; // 拿到当前observe实例\n    let inserted;\n    switch (method) {\n      case \"push\":\n      case \"unshift\":\n        inserted = args;\n        break;\n      case \"splice\":\n        inserted = args.slice(2);\n      default:\n        break;\n    }\n    if (inserted) ob.observeArray(inserted); // 对新增的每一项进行观测\n    return result;\n  };\n});\n","import { isObject, def } from \"../utils/index\";\nimport { arrayMethods } from \"./array\";\n\nclass Observer {\n  constructor(data) {\n    // 给每一个监控过的对象都添加一个__ob__属性\n    def(data, \"__ob__\", this);\n    if (Array.isArray(data)) {\n      data.__proto__ = arrayMethods;\n      this.observeArray(data);\n    } else {\n      this.walk(data);\n    }\n  }\n  observeArray(array) {\n    array.forEach((item) => {\n      observe(item);\n    });\n  }\n  walk(data) {\n    let keys = Object.keys(data);\n    keys.forEach((key) => {\n      defineReactive(data, key, data[key]);\n    });\n  }\n}\n\nfunction defineReactive(data, key, value) {\n  observe(value);\n  Object.defineProperty(data, key, {\n    get() {\n      return value;\n    },\n    set(newValue) {\n      if (newValue == value) return;\n      observe(newValue);\n      value = newValue;\n    },\n  });\n}\nexport function observe(data) {\n  if (isObject(data)) {\n    return new Observer(data);\n  }\n}\n","import { observe } from \"./observer/index.js\";\nimport { proxy } from \"./utils/index\";\n\nexport function initState(vm) {\n  const opts = vm.$options;\n  if (opts.data) {\n    initData(vm);\n  }\n}\nfunction initData(vm) {\n  let data = vm.$options.data;\n  data = vm._data = typeof data === \"function\" ? data.call(vm) : data;\n  for (let key in data) {\n    // 将_data上的属性全部代理给vm实例\n    proxy(vm, \"_data\", key);\n  }\n  observe(data);\n}\n","const ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*`;\nconst qnameCapture = `((?:${ncname}\\:)?${ncname})`;\nconst startTagOpen = new RegExp(`^<${qnameCapture}`); // 标签开头的正则 捕获的内容是标签名\n\nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`); // 匹配标签结尾的 </div>\nconst attribute = /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/; // 匹配属性的\nconst startTagClose = /^\\s*(\\/?)>/; // 匹配标签结束的 >\nlet root;\nlet currentParent;\nlet stack = [];\nconst ELEMENT_TYPE = 1;\nconst TEXT_TYPE = 3;\n\nfunction createASTElement(tagName, attrs) {\n  return {\n    tag: tagName,\n    type: ELEMENT_TYPE,\n    children: [],\n    attrs,\n    parent: null,\n  };\n}\nfunction start(tagName, attrs) {\n  // console.log(`开始${tagName}标签，attrs是`);\n  // console.log(attrs);\n  let element = createASTElement(tagName, attrs);\n  if (!root) {\n    root = element;\n  }\n  currentParent = element;\n  stack.push(element);\n}\nfunction end(tagName) {\n  // console.log(`结束${tagName}标签`);\n  let element = stack.pop();\n  currentParent = stack[stack.length - 1];\n  if (currentParent) {\n    element.parent = currentParent;\n    currentParent.children.push(element);\n  }\n}\nfunction chars(text) {\n  // console.log(`文本是${text}`);\n  text = text.replace(/\\s/g, \"\");\n  if (text) {\n    currentParent.children.push({\n      type: TEXT_TYPE,\n      text,\n    });\n  }\n}\nexport default function parseHTML(html) {\n  while (html) {\n    let textEnd = html.indexOf(\"<\");\n    if (textEnd == 0) {\n      const startTagMatch = parseStartTag();\n      if (startTagMatch) {\n        start(startTagMatch.tagName, startTagMatch.attrs);\n        continue;\n      }\n      const endTagMatch = html.match(endTag);\n      if (endTagMatch) {\n        advance(endTagMatch[0].length);\n        end(endTagMatch[1]);\n        continue;\n      }\n    }\n    let text;\n    if (textEnd >= 0) {\n      text = html.substring(0, textEnd);\n    }\n    if (text) {\n      advance(text.length);\n      chars(text);\n    }\n  }\n  // 前进n个\n  function advance(n) {\n    html = html.substring(n);\n  }\n  function parseStartTag() {\n    const start = html.match(startTagOpen);\n    if (start) {\n      const match = {\n        tagName: start[1],\n        attrs: [],\n      };\n      // 将标签删除\n      advance(start[0].length);\n      let attr, end;\n      while (\n        !(end = html.match(startTagClose)) &&\n        (attr = html.match(attribute))\n      ) {\n        advance(attr[0].length); // 将属性删除\n        match.attrs.push({\n          name: attr[1],\n          value: attr[3] || attr[4] || attr[5],\n        });\n      }\n      if (end) {\n        // 去掉开始标签的 >\n        advance(end[0].length);\n        return match;\n      }\n    }\n  }\n  return root\n}","const defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g; \n\nexport default function generate(el) {\n  let children = getChildren(el);\n  let code = `_c('${el.tag}',${\n    el.attrs.length ? `${genProps(el.attrs)}` : \"undefined\"\n  }${children ? `,${children}` : \"\"})`;\n  return code;\n}\nfunction getChildren(el) {\n  // 生成儿子节点\n  const children = el.children;\n  if (children) {\n    const res = `${children.map((c) => gen(c)).join(\",\")}`;\n    return res;\n  } else {\n    return false;\n  }\n}\n\nfunction genProps(attrs) {\n  // 生成属性\n  let str = \"\";\n  for (let i = 0; i < attrs.length; i++) {\n    let attr = attrs[i];\n    if (attr.name === \"style\") {\n      let obj = {};\n      attr.value.split(\";\").forEach((item) => {\n        let [key, value] = item.split(\":\");\n        obj[key] = value;\n      });\n      attr.value = obj;\n    }\n    str += `${attr.name}:${JSON.stringify(attr.value)},`;\n  }\n  return `{${str.slice(0, -1)}}`;\n}\n\nfunction gen(node) {\n  if (node.type == 1) {\n    return generate(node);\n  } else {\n    let text = node.text;\n    if (!defaultTagRE.test(text)) {\n      return `_v(${JSON.stringify(text)})`;\n    }\n    let lastIndex = (defaultTagRE.lastIndex = 0);\n    let tokens = [];\n    let match, index;\n\n    while ((match = defaultTagRE.exec(text))) {\n      index = match.index;\n      if (index > lastIndex) {\n        tokens.push(JSON.stringify(text.slice(lastIndex, index)));\n      }\n      tokens.push(`_s(${match[1].trim()})`);\n      lastIndex = index + match[0].length;\n    }\n    if (lastIndex < text.length) {\n      tokens.push(JSON.stringify(text.slice(lastIndex)));\n    }\n    return `_v(${tokens.join(\"+\")})`;\n  }\n}\n","import parseHTML from './parser-html'\nimport generate from './generate'\n\nexport function compileToFunctions(template, vm) {\n  let root = parseHTML(template);\n  let code = generate(root, vm);\n  let render = `with(this){return ${code}}`;\n  let renderFn = new Function(render);\n  return renderFn;\n}\n","let id = 0;\nclass Watcher {\n    constructor(vm, exprOrFn, cb, options) {\n        this.vm = vm;\n        this.exprOrFn = exprOrFn;\n        if (typeof exprOrFn == 'function') {\n            this.getter = exprOrFn;\n        }\n        this.cb = cb;\n        this.options = options;\n        this.id = id++;\n        this.get();\n    }\n    get() {\n        this.getter();\n    }\n}\n\nexport default Watcher;","export function patch(oldVnode,vnode){\n  const isRealElement = oldVnode.nodeType;\n  if(isRealElement){\n      const oldElm = oldVnode;\n      const parentElm = oldElm.parentNode;\n      \n      let el = createElm(vnode);\n      parentElm.insertBefore(el,oldElm.nextSibling);\n      parentElm.removeChild(oldVnode)\n     return el;\n  } \n}\nfunction createElm(vnode){\n  let {tag,children,key,data,text} = vnode;\n  if(typeof tag === 'string'){\n      vnode.el = document.createElement(tag);\n      updateProperties(vnode);\n      children.forEach(child => { \n          return vnode.el.appendChild(createElm(child));\n      });\n  }else{\n      vnode.el = document.createTextNode(text);\n  }\n  return vnode.el\n}\nfunction updateProperties(vnode){\n  let newProps = vnode.data || {}; // 获取当前老节点中的属性 \n  let el = vnode.el; // 当前的真实节点\n  for(let key in newProps){\n      if(key === 'style'){ \n          for(let styleName in newProps.style){\n              el.style[styleName] = newProps.style[styleName]\n          }\n      }else if(key === 'class'){\n          el.className= newProps.class\n      }else{ // 给这个元素添加属性 值就是对应的值\n          el.setAttribute(key,newProps[key]);\n      }\n  }\n}","import { log } from \"debug\";\nimport Watcher from \"./observer/watcher\";\nimport { patch } from \"./utils/patch\";\n\nexport function lifecycleMixin(Vue) {\n  Vue.prototype._update = function (vnode) {\n    const vm = this;\n    vm.$el = patch(vm.$el, vnode);\n  };\n}\nexport function mountComponent(vm, el) {\n  vm.$el = el;\n  callHook(vm, 'beforeMount')\n  let updateComponent = () => {\n    // 将虚拟节点 渲染到页面上\n    vm._update(vm._render());\n  };\n  new Watcher(vm, updateComponent, () => {}, true);\n  callHook(vm, 'mounted')\n}\nexport function callHook(vm, hook) {\n  const handlers = vm.$options[hook];\n  if (handlers) {\n      for (let i = 0; i < handlers.length; i++) {\n          handlers[i].call(vm);\n      }\n  }\n}","export const LIFECYCLE_HOOKS = [\n  'beforeCreate',\n  'created',\n  'beforeMount',\n  'mounted',\n  'beforeUpdate',\n  'updated',\n  'beforeDestroy',\n  'destroyed',\n]\nconst strats = {};\nfunction mergeHook(parentVal, childValue) {\n  if (childValue) {\n      if (parentVal) {\n          return parentVal.concat(childValue);\n      } else {\n          return [childValue]\n      }\n  } else {\n      return parentVal;\n  }\n}\nLIFECYCLE_HOOKS.forEach(hook => {\n  strats[hook] = mergeHook\n})\nexport function mergeOptions(parent, child) {\n  const options = {}\n  for (let key in parent) {\n      mergeField(key)\n  }\n  for (let key in child) {\n      if (!parent.hasOwnProperty(key)) {\n          mergeField(key);\n      }\n  }\n  function mergeField(key) {\n      if (strats[key]) {\n          options[key] = strats[key](parent[key], child[key]);\n      } else {\n          if (typeof parent[key] == 'object' && typeof child[key] == 'object') {\n              options[key] = {\n                  ...parent[key],\n                  ...child[key]\n              }  \n          }else{\n              options[key] = child[key];\n          }\n      }\n  }\n  return options\n} ","import { initState } from \"./state\";\nimport { compileToFunctions } from \"./compiler/index\";\nimport { mountComponent, callHook } from \"./lifecycle\";\nimport { mergeOptions } from \"./utils/mergeOptions\";\n\nexport function initMixin(Vue) {\n  Vue.prototype._init = function (options) {\n    const vm = this;\n    this.$options = mergeOptions(vm.constructor.options,options);\n\n    // 初始化状态\n    callHook(vm,'beforeCreate');\n    initState(vm);\n    callHook(vm,'created');\n    \n    // 页面挂载\n    if (vm.$options.el) {\n      vm.$mount(vm.$options.el);\n    }\n  };\n  Vue.prototype.$mount = function (el) {\n    const vm = this;\n    const options = this.$options;\n    el = document.querySelector(el);\n\n    // 如果没有render方法,将template编译成render函数\n    if (!options.render) {\n      let template = options.template;\n      if (!template && el) {\n        template = el.outerHTML;\n      }\n      const render = compileToFunctions(template);\n      options.render = render;\n    }\n    mountComponent(vm, el);\n  };\n}\n","// 创建虚拟节点\nexport function createTextNode(text) {\n  return vnode(undefined,undefined,undefined,undefined,text)\n}\nexport function createElement(tag,data={},...children){\n  let key = data.key;\n  if(key){\n      delete data.key;\n  }\n  return vnode(tag,data,key,children);\n}\nfunction vnode(tag,data,key,children,text){\n  return {\n      tag,\n      data,\n      key,\n      children,\n      text\n  }\n}","import {createTextNode,createElement} from './vdom/create-element'\nexport function renderMixin(Vue){\n    Vue.prototype._v = function (text) { // 创建文本\n        return createTextNode(text);\n    }\n    Vue.prototype._c = function () { // 创建元素\n        return createElement(...arguments);\n    }\n    Vue.prototype._s = function (val) {\n        return val == null? '' : (typeof val === 'object'?JSON.stringify(val):val);\n    }\n    Vue.prototype._render = function () {\n        const vm = this;\n        const {render} = vm.$options;\n        let vnode = render.call(vm);\n        // console.log(vnode);\n        return vnode;\n    }\n}","import { mergeOptions } from \"../utils/mergeOptions\";\nexport function initGlobalAPI(Vue) {\n  Vue.options = {};\n\n  Vue.mixin = function (mixin) {\n    // 将属性合并到Vue.options上\n    this.options = mergeOptions(this.options, mixin);\n    return this;\n  };\n}\n","import { initMixin } from \"./init.js\";\nimport { lifecycleMixin } from \"./lifecycle.js\";\nimport { renderMixin } from \"./render.js\";\nimport { initGlobalAPI } from \"./initGlobalApi/index\";\nfunction Vue(options) {\n  this._init(options);\n}\ninitMixin(Vue);\nlifecycleMixin(Vue);\nrenderMixin(Vue);\ninitGlobalAPI(Vue)\nexport default Vue;\n"],"names":["isObject","data","def","key","value","Object","defineProperty","enumerable","configurable","proxy","vm","source","get","set","newValue","oldArrayProtoMethods","Array","prototype","arrayMethods","create","methods","forEach","method","args","result","apply","ob","__ob__","inserted","slice","observeArray","Observer","isArray","__proto__","walk","array","item","observe","keys","defineReactive","initState","opts","$options","initData","_data","call","ncname","qnameCapture","startTagOpen","RegExp","endTag","attribute","startTagClose","root","currentParent","stack","ELEMENT_TYPE","TEXT_TYPE","createASTElement","tagName","attrs","tag","type","children","parent","start","element","push","end","pop","length","chars","text","replace","parseHTML","html","textEnd","indexOf","startTagMatch","parseStartTag","endTagMatch","match","advance","substring","n","attr","name","defaultTagRE","generate","el","getChildren","code","genProps","res","map","c","gen","join","str","i","obj","split","JSON","stringify","node","test","lastIndex","tokens","index","exec","trim","compileToFunctions","template","render","renderFn","Function","id","Watcher","exprOrFn","cb","options","getter","patch","oldVnode","vnode","isRealElement","nodeType","oldElm","parentElm","parentNode","createElm","insertBefore","nextSibling","removeChild","document","createElement","updateProperties","child","appendChild","createTextNode","newProps","styleName","style","className","setAttribute","lifecycleMixin","Vue","_update","$el","mountComponent","callHook","updateComponent","_render","hook","handlers","LIFECYCLE_HOOKS","strats","mergeHook","parentVal","childValue","concat","mergeOptions","mergeField","hasOwnProperty","initMixin","_init","constructor","$mount","querySelector","outerHTML","undefined","renderMixin","_v","_c","arguments","_s","val","initGlobalAPI","mixin"],"mappings":"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"}